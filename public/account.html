<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Account – New Shelton Hosiery</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root{
      --ink:#0d0b0e;--cream:#faf7f2;--sand:#f5f0e8;--rose:#c4736a;
      --gold:#b8966a;--mist:#e8e0d4;--ash:#7a7470;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--ink)}
    a{text-decoration:none;color:inherit}

    /* NAV */
    nav{position:sticky;top:0;z-index:100;padding:18px 60px;display:flex;align-items:center;justify-content:space-between;background:rgba(250,247,242,.97);backdrop-filter:blur(16px);border-bottom:1px solid var(--mist)}
    .nav-brand{font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:600;color:var(--ink)}
    .nav-brand em{color:var(--gold);font-style:italic}
    .nav-menu{display:flex;gap:36px;list-style:none}
    .nav-menu a{font-size:.72rem;letter-spacing:.16em;text-transform:uppercase;color:var(--ash);transition:color .3s}
    .nav-menu a:hover{color:var(--rose)}
    .nav-right{display:flex;gap:20px}
    .nav-right a{color:var(--ink);font-size:1rem;transition:color .3s}
    .nav-right a:hover{color:var(--rose)}

    /* PAGE HEADER */
    .acct-header{background:var(--ink);padding:50px 60px;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}
    .acct-header-left{}
    .acct-eyebrow{font-size:.65rem;letter-spacing:.22em;text-transform:uppercase;color:var(--gold);margin-bottom:10px}
    .acct-header h1{font-family:'Cormorant Garamond',serif;font-size:2.8rem;color:#fff;font-weight:300;line-height:1.1}
    .acct-header h1 em{color:var(--gold);font-style:italic}
    .acct-header-right{text-align:right}
    .acct-email{font-size:.82rem;color:rgba(255,255,255,.45);margin-bottom:8px}
    .acct-since{font-size:.72rem;color:rgba(255,255,255,.25);letter-spacing:.1em;text-transform:uppercase}

    /* AVATAR CIRCLE */
    .avatar{width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--rose),var(--gold));display:flex;align-items:center;justify-content:center;font-family:'Cormorant Garamond',serif;font-size:1.8rem;color:#fff;font-weight:600;flex-shrink:0}

    /* LAYOUT */
    .acct-layout{display:grid;grid-template-columns:260px 1fr;gap:0;min-height:70vh}

    /* SIDEBAR */
    .acct-sidebar{background:#fff;border-right:1px solid var(--mist);padding:0}
    .sidebar-section{padding:28px 0}
    .sidebar-section + .sidebar-section{border-top:1px solid var(--mist)}
    .sidebar-label{font-size:.62rem;letter-spacing:.18em;text-transform:uppercase;color:var(--gold);padding:0 28px;margin-bottom:12px}
    .sidebar-item{display:flex;align-items:center;gap:12px;padding:12px 28px;font-size:.85rem;color:var(--ash);cursor:pointer;transition:all .2s;position:relative}
    .sidebar-item i{width:18px;text-align:center;font-size:.9rem;color:var(--mist);transition:color .2s}
    .sidebar-item:hover{background:var(--sand);color:var(--ink)}
    .sidebar-item:hover i{color:var(--gold)}
    .sidebar-item.active{background:var(--sand);color:var(--ink);font-weight:500}
    .sidebar-item.active i{color:var(--rose)}
    .sidebar-item.active::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--rose)}
    .sidebar-badge{margin-left:auto;background:var(--rose);color:#fff;font-size:.6rem;padding:2px 7px;border-radius:10px}
    .sidebar-logout{color:var(--rose)!important}
    .sidebar-logout i{color:var(--rose)!important}

    /* MAIN CONTENT */
    .acct-main{padding:40px 50px}

    /* SECTION PANELS */
    .acct-panel{display:none}
    .acct-panel.active{display:block}
    .panel-title{font-family:'Cormorant Garamond',serif;font-size:1.8rem;font-weight:400;margin-bottom:6px}
    .panel-sub{font-size:.82rem;color:var(--ash);margin-bottom:32px;font-weight:300}

    /* STATS ROW */
    .stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:36px}
    .stat-card{background:#fff;padding:22px 24px;border-bottom:2px solid var(--mist);transition:border-color .3s}
    .stat-card:hover{border-color:var(--rose)}
    .stat-num{font-family:'Cormorant Garamond',serif;font-size:2.2rem;color:var(--rose);font-weight:300;line-height:1}
    .stat-label{font-size:.68rem;letter-spacing:.12em;text-transform:uppercase;color:var(--ash);margin-top:6px}

    /* RECENT ORDERS */
    .section-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
    .section-head h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:400}
    .section-head a{font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;color:var(--rose)}
    .order-table{width:100%;background:#fff;border-collapse:collapse}
    .order-table th{font-size:.65rem;letter-spacing:.14em;text-transform:uppercase;color:var(--ash);padding:12px 16px;text-align:left;border-bottom:2px solid var(--mist);background:var(--sand)}
    .order-table td{padding:14px 16px;font-size:.85rem;border-bottom:1px solid var(--mist)}
    .order-table tr:last-child td{border-bottom:none}
    .order-table tr:hover td{background:var(--sand)}
    .status-badge{display:inline-block;padding:4px 10px;font-size:.65rem;letter-spacing:.1em;text-transform:uppercase}
    .status-delivered{background:#f0fdf4;color:#16a34a}
    .status-processing{background:#fff7ed;color:#c2410c}
    .status-shipped{background:#eff6ff;color:#1d4ed8}
    .status-cancelled{background:#fff0ee;color:var(--rose)}

    /* PROFILE FORM */
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px}
    .form-group label{font-size:.68rem;letter-spacing:.12em;text-transform:uppercase;color:var(--ash);display:block;margin-bottom:8px}
    .form-group input,.form-group select,.form-group textarea{width:100%;padding:13px 16px;border:1px solid var(--mist);background:transparent;font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .3s;color:var(--ink)}
    .form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:var(--gold)}
    .form-full{grid-column:1/-1}
    .btn-save{padding:14px 36px;background:var(--rose);color:#fff;border:none;font-size:.72rem;letter-spacing:.16em;text-transform:uppercase;cursor:pointer;font-family:'DM Sans',sans-serif;transition:background .3s}
    .btn-save:hover{background:var(--ink)}
    .btn-outline{padding:13px 28px;background:transparent;color:var(--ink);border:1px solid var(--mist);font-size:.72rem;letter-spacing:.12em;text-transform:uppercase;cursor:pointer;font-family:'DM Sans',sans-serif;transition:all .3s;margin-left:10px}
    .btn-outline:hover{border-color:var(--rose);color:var(--rose)}

    /* ADDRESS CARDS */
    .addr-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:28px}
    .addr-card{background:#fff;padding:24px;border:1px solid var(--mist);position:relative;transition:border-color .3s}
    .addr-card:hover{border-color:var(--gold)}
    .addr-card.default{border-color:var(--gold)}
    .addr-default-badge{position:absolute;top:14px;right:14px;background:var(--gold);color:#fff;font-size:.6rem;letter-spacing:.1em;text-transform:uppercase;padding:3px 8px}
    .addr-name{font-family:'Cormorant Garamond',serif;font-size:1.05rem;margin-bottom:8px}
    .addr-text{font-size:.82rem;color:var(--ash);line-height:1.7;margin-bottom:14px}
    .addr-actions{display:flex;gap:12px}
    .addr-btn{font-size:.7rem;color:var(--ash);cursor:pointer;letter-spacing:.08em;text-transform:uppercase;background:none;border:none;font-family:'DM Sans',sans-serif;transition:color .2s;padding:0}
    .addr-btn:hover{color:var(--rose)}
    .addr-add{border:1px dashed var(--mist);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;cursor:pointer;padding:40px;transition:all .3s;background:transparent}
    .addr-add:hover{border-color:var(--rose);background:var(--sand)}
    .addr-add i{font-size:1.5rem;color:var(--mist)}
    .addr-add span{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:var(--ash)}

    /* WISHLIST */
    .wish-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
    .wish-card{background:#fff;position:relative;overflow:hidden}
    .wish-img{height:200px;background:var(--mist);display:flex;align-items:center;justify-content:center;font-size:3rem;color:var(--gold);overflow:hidden}
    .wish-img img{width:100%;height:100%;object-fit:cover}
    .wish-body{padding:16px}
    .wish-name{font-family:'Cormorant Garamond',serif;font-size:1rem;margin-bottom:4px}
    .wish-price{font-size:.85rem;color:var(--rose);margin-bottom:12px}
    .wish-actions{display:flex;gap:8px}
    .wish-btn-cart{flex:1;padding:9px;background:var(--rose);color:#fff;border:none;font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;font-family:'DM Sans',sans-serif;transition:background .3s}
    .wish-btn-cart:hover{background:var(--ink)}
    .wish-btn-remove{width:36px;padding:9px;background:var(--sand);color:var(--ash);border:none;cursor:pointer;transition:all .3s;font-size:.8rem}
    .wish-btn-remove:hover{background:var(--rose);color:#fff}

    /* SECURITY */
    .security-card{background:#fff;padding:28px;margin-bottom:16px;border-left:3px solid var(--mist);transition:border-color .3s}
    .security-card:hover{border-color:var(--gold)}
    .security-title{font-size:.9rem;font-weight:500;margin-bottom:4px;display:flex;align-items:center;gap:10px}
    .security-title i{color:var(--gold)}
    .security-desc{font-size:.8rem;color:var(--ash);margin-bottom:16px;line-height:1.6}
    .security-status{display:inline-flex;align-items:center;gap:6px;font-size:.72rem;padding:4px 10px}
    .sec-on{background:#f0fdf4;color:#16a34a}
    .sec-off{background:#fff0ee;color:var(--rose)}

    /* SWITCH ACCOUNT */
    .switch-accounts{background:#fff;padding:28px;margin-bottom:24px}
    .switch-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    .switch-head h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:400}
    .account-list{display:flex;flex-direction:column;gap:10px}
    .account-item{display:flex;align-items:center;gap:16px;padding:14px 18px;border:1px solid var(--mist);cursor:pointer;transition:all .2s;position:relative}
    .account-item:hover{border-color:var(--gold);background:var(--sand)}
    .account-item.current-acct{border-color:var(--rose);background:#fff8f7}
    .acc-avatar{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,var(--rose),var(--gold));display:flex;align-items:center;justify-content:center;font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:#fff;font-weight:600;flex-shrink:0}
    .acc-info{flex:1}
    .acc-name{font-size:.9rem;font-weight:500;margin-bottom:2px}
    .acc-email{font-size:.75rem;color:var(--ash)}
    .acc-current-badge{font-size:.62rem;letter-spacing:.1em;text-transform:uppercase;color:var(--rose);background:#fff0ee;padding:3px 8px}
    .acc-switch-btn{font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ash);background:none;border:1px solid var(--mist);padding:6px 12px;cursor:pointer;font-family:'DM Sans',sans-serif;transition:all .2s}
    .acc-switch-btn:hover{border-color:var(--rose);color:var(--rose)}
    .add-account-btn{display:flex;align-items:center;gap:12px;padding:14px 18px;border:1px dashed var(--mist);cursor:pointer;transition:all .2s;font-size:.82rem;color:var(--ash)}
    .add-account-btn:hover{border-color:var(--rose);color:var(--rose);background:var(--sand)}
    .add-account-btn i{width:42px;height:42px;border-radius:50%;background:var(--sand);display:flex;align-items:center;justify-content:center;font-size:.9rem;color:var(--ash);flex-shrink:0}

    /* TOAST */
    .toast-wrap{position:fixed;bottom:28px;left:50%;transform:translateX(-50%);z-index:999}
    .toast{background:var(--ink);color:#fff;padding:13px 24px;font-size:.8rem;letter-spacing:.08em;border-left:3px solid var(--gold);transform:translateY(60px);opacity:0;transition:all .4s;white-space:nowrap}
    .toast.on{transform:translateY(0);opacity:1}

    /* FOOTER */
    footer{background:var(--ink);padding:28px 60px;text-align:center;margin-top:0}
    footer p{color:rgba(255,255,255,.3);font-size:.78rem}

    /* RESPONSIVE */
    @media(max-width:900px){
      .acct-layout{grid-template-columns:1fr}
      .acct-sidebar{border-right:none;border-bottom:1px solid var(--mist)}
      .stats-row{grid-template-columns:1fr 1fr}
      .form-grid{grid-template-columns:1fr}
      .wish-grid{grid-template-columns:1fr 1fr}
      .addr-grid{grid-template-columns:1fr}
      nav{padding:16px 24px}
      .nav-menu{display:none}
      .acct-header{padding:36px 24px;flex-direction:column;align-items:flex-start}
      .acct-main{padding:28px 24px}
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="/index.html" class="nav-brand">New Shelton <em>Hosiery</em></a>
  <ul class="nav-menu">
    <li><a href="/index.html">Home</a></li>
    <li><a href="/shop.html">Shop</a></li>
    <li><a href="/about.html">About</a></li>
    <li><a href="/contact.html">Contact</a></li>
  </ul>
  <div class="nav-right">
    <a href="/shop.html"><i class="fas fa-search"></i></a>
    <a href="/cart.html"><i class="fas fa-shopping-bag"></i></a>
    <a href="/account.html"><i class="fas fa-user-check" style="color:var(--gold)"></i></a>
  </div>
</nav>

<!-- PAGE HEADER -->
<div class="acct-header">
  <div style="display:flex;align-items:center;gap:20px;">
    <div class="avatar" id="headerAvatar">A</div>
    <div class="acct-header-left">
      <p class="acct-eyebrow">Member Account</p>
      <h1>Welcome, <em id="headerName">Guest</em></h1>
    </div>
  </div>
  <div class="acct-header-right">
    <p class="acct-email" id="headerEmail">—</p>
    <p class="acct-since">Member since 2025</p>
  </div>
</div>

<!-- LAYOUT -->
<div class="acct-layout">

  <!-- SIDEBAR -->
  <div class="acct-sidebar">
    <div class="sidebar-section">
      <p class="sidebar-label">Account</p>
      <div class="sidebar-item active" onclick="switchPanel('dashboard',this)">
        <i class="fas fa-th-large"></i> Dashboard
      </div>
      <div class="sidebar-item" onclick="switchPanel('orders',this)">
        <i class="fas fa-box"></i> My Orders
        <span class="sidebar-badge">3</span>
      </div>
      <div class="sidebar-item" onclick="switchPanel('wishlist',this)">
        <i class="far fa-heart"></i> Wishlist
        <span class="sidebar-badge">4</span>
      </div>
    </div>
    <div class="sidebar-section">
      <p class="sidebar-label">Settings</p>
      <div class="sidebar-item" onclick="switchPanel('profile',this)">
        <i class="fas fa-user-edit"></i> Edit Profile
      </div>
      <div class="sidebar-item" onclick="switchPanel('addresses',this)">
        <i class="fas fa-map-marker-alt"></i> Addresses
      </div>
      <div class="sidebar-item" onclick="switchPanel('security',this)">
        <i class="fas fa-shield-alt"></i> Security
      </div>
    </div>
    <div class="sidebar-section">
      <p class="sidebar-label">Accounts</p>

      <div class="sidebar-item sidebar-logout" onclick="logoutUser()">
        <i class="fas fa-sign-out-alt"></i> Sign Out
      </div>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="acct-main">

    <!-- ── DASHBOARD ── -->
    <div class="acct-panel active" id="panel-dashboard">
      <h2 class="panel-title">Dashboard</h2>
      <p class="panel-sub">Overview of your account activity</p>

      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-num">3</div>
          <div class="stat-label">Total Orders</div>
        </div>
        <div class="stat-card">
          <div class="stat-num">4</div>
          <div class="stat-label">Wishlist Items</div>
        </div>
        <div class="stat-card">
          <div class="stat-num">2</div>
          <div class="stat-label">Saved Addresses</div>
        </div>
        <div class="stat-card">
          <div class="stat-num">Rs.0</div>
          <div class="stat-label">Total Spent</div>
        </div>
      </div>

      <div class="section-head">
        <h3>Recent Orders</h3>
        <a href="#" onclick="switchPanel('orders',document.querySelector('[onclick*=orders]'));return false;">View All →</a>
      </div>
      <table class="order-table">
        <thead>
          <tr>
            <th>Order #</th>
            <th>Date</th>
            <th>Items</th>
            <th>Total</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="recentOrdersBody">
          <tr>
            <td colspan="5" style="text-align:center;padding:40px;color:var(--ash);font-size:.85rem;">
              No orders yet — <a href="/shop.html" style="color:var(--rose);">start shopping!</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ── ORDERS ── -->
    <div class="acct-panel" id="panel-orders">
      <h2 class="panel-title">My Orders</h2>
      <p class="panel-sub">Track and manage all your purchases</p>
      <table class="order-table">
        <thead>
          <tr>
            <th>Order #</th>
            <th>Date</th>
            <th>Items</th>
            <th>Total</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>#NSH-1001</strong></td>
            <td>Feb 20, 2025</td>
            <td>Rosewood Pullover × 1</td>
            <td style="color:var(--rose);font-family:'Cormorant Garamond',serif;font-size:1rem;">Rs. 3,499</td>
            <td><span class="status-badge status-delivered">Delivered</span></td>
            <td><a href="#" style="font-size:.72rem;color:var(--rose);letter-spacing:.08em;text-transform:uppercase;">Details</a></td>
          </tr>
          <tr>
            <td><strong>#NSH-1002</strong></td>
            <td>Feb 15, 2025</td>
            <td>Azure Dream Sweater × 2</td>
            <td style="color:var(--rose);font-family:'Cormorant Garamond',serif;font-size:1rem;">Rs. 12,998</td>
            <td><span class="status-badge status-shipped">Shipped</span></td>
            <td><a href="#" style="font-size:.72rem;color:var(--rose);letter-spacing:.08em;text-transform:uppercase;">Track</a></td>
          </tr>
          <tr>
            <td><strong>#NSH-1003</strong></td>
            <td>Feb 10, 2025</td>
            <td>Violet Mist Cardigan × 1</td>
            <td style="color:var(--rose);font-family:'Cormorant Garamond',serif;font-size:1rem;">Rs. 4,999</td>
            <td><span class="status-badge status-processing">Processing</span></td>
            <td><a href="#" style="font-size:.72rem;color:var(--rose);letter-spacing:.08em;text-transform:uppercase;">Details</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ── WISHLIST ── -->
    <div class="acct-panel" id="panel-wishlist">
      <h2 class="panel-title">My Wishlist</h2>
      <p class="panel-sub">Items you've saved for later</p>
      <div class="wish-grid">
        <div class="wish-card">
          <div class="wish-img"><img src="images/prod-rosewood.jpg" alt="" onerror="this.style.display='none'"><i class="fas fa-tshirt" style="display:none"></i></div>
          <div class="wish-body">
            <p style="font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);margin-bottom:4px;">Woolen</p>
            <p class="wish-name">Rosewood Pullover</p>
            <p class="wish-price">Rs. 3,499</p>
            <div class="wish-actions">
              <button class="wish-btn-cart" onclick="addWishToCart('Rosewood Pullover',3499)"><i class="fas fa-shopping-bag"></i> Add to Bag</button>
              <button class="wish-btn-remove" onclick="removeWish(this)" title="Remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
        </div>
        <div class="wish-card">
          <div class="wish-img"><img src="images/prod-azure.jpg" alt="" onerror="this.style.display='none'"></div>
          <div class="wish-body">
            <p style="font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);margin-bottom:4px;">Cashmere</p>
            <p class="wish-name">Azure Dream Sweater</p>
            <p class="wish-price">Rs. 6,499</p>
            <div class="wish-actions">
              <button class="wish-btn-cart" onclick="addWishToCart('Azure Dream Sweater',6499)"><i class="fas fa-shopping-bag"></i> Add to Bag</button>
              <button class="wish-btn-remove" onclick="removeWish(this)" title="Remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
        </div>
        <div class="wish-card">
          <div class="wish-img"><img src="images/prod-violet.jpg" alt="" onerror="this.style.display='none'"></div>
          <div class="wish-body">
            <p style="font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);margin-bottom:4px;">Cardigan</p>
            <p class="wish-name">Violet Mist Cardigan</p>
            <p class="wish-price">Rs. 4,999</p>
            <div class="wish-actions">
              <button class="wish-btn-cart" onclick="addWishToCart('Violet Mist Cardigan',4999)"><i class="fas fa-shopping-bag"></i> Add to Bag</button>
              <button class="wish-btn-remove" onclick="removeWish(this)" title="Remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
        </div>
        <div class="wish-card">
          <div class="wish-img"><img src="images/prod-golden.jpg" alt="" onerror="this.style.display='none'"></div>
          <div class="wish-body">
            <p style="font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);margin-bottom:4px;">Knit</p>
            <p class="wish-name">Golden Harvest Knit</p>
            <p class="wish-price">Rs. 4,299</p>
            <div class="wish-actions">
              <button class="wish-btn-cart" onclick="addWishToCart('Golden Harvest Knit',4299)"><i class="fas fa-shopping-bag"></i> Add to Bag</button>
              <button class="wish-btn-remove" onclick="removeWish(this)" title="Remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ── PROFILE ── -->
    <div class="acct-panel" id="panel-profile">
      <h2 class="panel-title">Edit Profile</h2>
      <p class="panel-sub">Update your personal information</p>
      <div class="form-grid">
        <div class="form-group">
          <label>First Name</label>
          <input type="text" id="pfFname" placeholder="Ayesha"/>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type="text" id="pfLname" placeholder="Khan"/>
        </div>
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" id="pfEmail" placeholder="you@example.com"/>
        </div>
        <div class="form-group">
          <label>Phone Number</label>
          <input type="tel" id="pfPhone" placeholder="03001234567"/>
        </div>
        <div class="form-group">
          <label>Date of Birth</label>
          <input type="date" id="pfDob"/>
        </div>
        <div class="form-group">
          <label>Gender</label>
          <select id="pfGender">
            <option value="">Select...</option>
            <option>Female</option>
            <option>Male</option>
            <option>Prefer not to say</option>
          </select>
        </div>
        <div class="form-group form-full">
          <label>Bio (optional)</label>
          <textarea id="pfBio" rows="3" placeholder="Tell us a little about yourself..." style="resize:vertical;"></textarea>
        </div>
      </div>
      <button class="btn-save" onclick="saveProfile()">Save Changes</button>
      <button class="btn-outline" onclick="resetProfile()">Reset</button>
    </div>

    <!-- ── ADDRESSES ── -->
    <div class="acct-panel" id="panel-addresses">
      <h2 class="panel-title">My Addresses</h2>
      <p class="panel-sub">Manage your saved delivery addresses</p>
      <div class="addr-grid">
        <div class="addr-card default">
          <span class="addr-default-badge">Default</span>
          <p class="addr-name">Home Address</p>
          <p class="addr-text">
            House 12, Street 4<br>
            Model Town, Lahore<br>
            Punjab, Pakistan<br>
            03001234567
          </p>
          <div class="addr-actions">
            <button class="addr-btn"><i class="fas fa-edit" style="margin-right:4px;"></i>Edit</button>
            <button class="addr-btn"><i class="fas fa-trash-alt" style="margin-right:4px;"></i>Delete</button>
          </div>
        </div>
        <div class="addr-card">
          <p class="addr-name">Office Address</p>
          <p class="addr-text">
            Office 5, 2nd Floor<br>
            Main Boulevard, Gulberg<br>
            Lahore, Punjab<br>
            03121234567
          </p>
          <div class="addr-actions">
            <button class="addr-btn"><i class="fas fa-edit" style="margin-right:4px;"></i>Edit</button>
            <button class="addr-btn" style="color:var(--gold)"><i class="fas fa-star" style="margin-right:4px;"></i>Set Default</button>
            <button class="addr-btn"><i class="fas fa-trash-alt" style="margin-right:4px;"></i>Delete</button>
          </div>
        </div>
        <div class="addr-add" onclick="showToast('Address form coming soon!')">
          <i class="fas fa-plus"></i>
          <span>Add New Address</span>
        </div>
      </div>
    </div>

    <!-- ── SECURITY ── -->
    <div class="acct-panel" id="panel-security">
      <h2 class="panel-title">Security</h2>
      <p class="panel-sub">Manage your password and account security</p>

      <div class="security-card">
        <p class="security-title"><i class="fas fa-key"></i> Change Password</p>
        <p class="security-desc">Update your password regularly to keep your account safe. Use at least 8 characters with a mix of letters and numbers.</p>
        <div class="form-grid" style="max-width:500px;">
          <div class="form-group form-full">
            <label>Current Password</label>
            <input type="password" id="secCurrent" placeholder="••••••••"/>
          </div>
          <div class="form-group">
            <label>New Password</label>
            <input type="password" id="secNew" placeholder="Min. 8 characters"/>
          </div>
          <div class="form-group">
            <label>Confirm New Password</label>
            <input type="password" id="secConfirm" placeholder="Repeat password"/>
          </div>
        </div>
        <button class="btn-save" onclick="changePassword()" style="font-size:.7rem;padding:12px 28px;">Update Password</button>
      </div>

      <div class="security-card" style="margin-top:16px;">
        <p class="security-title"><i class="fas fa-envelope"></i> Email Verification</p>
        <p class="security-desc">Verify your email address to secure your account and receive order updates.</p>
        <span class="security-status sec-on"><i class="fas fa-check-circle"></i> &nbsp;Verified</span>
      </div>

      <div class="security-card" style="margin-top:16px;">
        <p class="security-title"><i class="fas fa-trash-alt"></i> Delete Account</p>
        <p class="security-desc">Permanently delete your account and all associated data. This action cannot be undone.</p>
        <button onclick="confirmDelete()" style="padding:10px 22px;background:transparent;color:var(--rose);border:1px solid var(--rose);font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;font-family:'DM Sans',sans-serif;transition:all .3s;" onmouseover="this.style.background='var(--rose)';this.style.color='#fff'" onmouseout="this.style.background='transparent';this.style.color='var(--rose)'">Delete My Account</button>
      </div>
    </div>

    </div><!-- end acct-main -->
</div><!-- end acct-layout -->

<footer><p>© 2025 New Shelton Hosiery. All rights reserved.</p></footer>

<div class="toast-wrap"><div class="toast" id="toast"></div></div>

<script>
  // ── LOAD USER INFO ──
  let user = null;
  try {
    const raw = localStorage.getItem('nsh_user');
    if (raw && raw !== 'null') user = JSON.parse(raw);
  } catch(e) { user = null; }

  window.addEventListener('DOMContentLoaded', function() {
    // Redirect to login if not logged in
    if (!user) {
      window.location.href = '/login.html';
      return;
    }

    // Fill header
    const name    = user.name  || user.first_name || 'Member';
    const email   = user.email || '';
    const initial = name.charAt(0).toUpperCase();

    document.getElementById('headerName').textContent   = name;
    document.getElementById('headerEmail').textContent  = email;
    document.getElementById('headerAvatar').textContent = initial;

    // Fill profile form
    const nameParts = name.split(' ');
    document.getElementById('pfFname').value = nameParts[0] || '';
    document.getElementById('pfLname').value = nameParts[1] || '';
    document.getElementById('pfEmail').value = email;
  });

  // ── PANEL SWITCHING ──
  function switchPanel(id, el) {
    // Hide all panels
    document.querySelectorAll('.acct-panel').forEach(p => p.classList.remove('active'));
    // Show selected
    document.getElementById('panel-' + id).classList.add('active');
    // Update sidebar
    document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active'));
    if (el) el.classList.add('active');
  }

  // ── LOGOUT ──
  function logoutUser() {
    if (!confirm('Are you sure you want to sign out?')) return;
    localStorage.removeItem('nsh_user');
    showToast('Signed out. See you soon!');
    setTimeout(() => window.location.href = '/login.html', 1200);
  }

  // ── SAVE PROFILE ──
  function saveProfile() {
    const fname = document.getElementById('pfFname').value.trim();
    const lname = document.getElementById('pfLname').value.trim();
    const email = document.getElementById('pfEmail').value.trim();
    if (!fname || !email) { showToast('Name and email are required!'); return; }
    const updated = { ...user, name: fname + (lname ? ' ' + lname : ''), email };
    localStorage.setItem('nsh_user', JSON.stringify(updated));
    document.getElementById('headerName').textContent = updated.name;
    document.getElementById('headerEmail').textContent = updated.email;
    document.getElementById('headerAvatar').textContent = fname.charAt(0).toUpperCase();
    showToast('Profile updated successfully ✓');
  }

  function resetProfile() {
    document.getElementById('pfFname').value = (user.name || '').split(' ')[0];
    document.getElementById('pfLname').value = (user.name || '').split(' ')[1] || '';
    document.getElementById('pfEmail').value = user.email || '';
    showToast('Form reset');
  }

  // ── CHANGE PASSWORD ──
  function changePassword() {
    const curr    = document.getElementById('secCurrent').value;
    const newPass = document.getElementById('secNew').value;
    const confirm = document.getElementById('secConfirm').value;
    if (!curr || !newPass) { showToast('Please fill all password fields!'); return; }
    if (newPass.length < 8) { showToast('New password must be at least 8 characters!'); return; }
    if (newPass !== confirm) { showToast('Passwords do not match!'); return; }
    showToast('Password updated successfully ✓');
    document.getElementById('secCurrent').value = '';
    document.getElementById('secNew').value = '';
    document.getElementById('secConfirm').value = '';
  }

  // ── WISHLIST ──
  function addWishToCart(name, price) {
    const cart = JSON.parse(localStorage.getItem('nsh_cart') || '[]');
    const existing = cart.find(i => i.name === name);
    if (existing) { existing.qty++; }
    else { cart.push({ name, price, qty: 1 }); }
    localStorage.setItem('nsh_cart', JSON.stringify(cart));
    showToast(name + ' added to bag ✓');
  }

  function removeWish(btn) {
    const card = btn.closest('.wish-card');
    card.style.opacity = '0';
    card.style.transition = 'opacity .3s';
    setTimeout(() => card.remove(), 300);
    showToast('Removed from wishlist');
  }

  // ── DELETE ACCOUNT ──
  function confirmDelete() {
    if (confirm('Are you sure? This will permanently delete your account and cannot be undone!')) {
      localStorage.removeItem('nsh_user');
      // Remove from saved accounts list too
      const accounts = JSON.parse(localStorage.getItem('nsh_accounts') || '[]');
      const email = user ? user.email : '';
      const updated = accounts.filter(a => a.email !== email);
      localStorage.setItem('nsh_accounts', JSON.stringify(updated));
      showToast('Account deleted. Goodbye!');
      setTimeout(() => window.location.href = '/index.html', 1500);
    }
  }

  // ── TOAST ──
  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('on');
    setTimeout(() => t.classList.remove('on'), 2800);
  }
</script>
</body>
</html>
